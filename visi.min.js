(function(){var n="Visi",e=this,t=e[n],o=("undefined"!=typeof require,function(n,e){function t(n){var e=this;this.elements=[];try{n=[].slice.call(n)}catch(t){return void console.error(t)}n.forEach(function(n){n.length?[].slice.call(n).forEach(function(n){e.elements.push(n)}):e.elements.push(n)})}function o(n,e,t){return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}function i(){return new t(arguments)}function r(n,e,t){return d(n,function(o,i){"visible"===e&&o&&(i&&(i.done=!0),t(n,i.unregister)),"visible"===e||o||(i&&(i.done=!0),t(n,i.unregister))})}function u(n,e){return s.call(this,n,e,!1)}function c(n,e){return s.call(this,n,e,!0)}function s(e,t,i){var u=this;return void 0===p[e]?this:([].slice.call(this.elements).forEach(function(c,s){function f(){Object.keys(d).forEach(function(n){d[n]()})}var d={},l={done:!1,unregister:f},a=r(c,e,t,l);u.domLoaded||(d[0]=o(n,"DOMContentLoaded",function(){a(l),u.domLoaded=!0,i&&l.done?f():d[0]})),u.load||(d[1]=o(n,"load",function(){a(l),u.load=!0,i&&l.done?f():d[1]})),d[2]=o(n,"scroll",h(function(){a(l),u.domLoaded=!0,u.load=!0,i&&l.done&&f()},50)),d[3]=o(n,"resize",h(function(){a(l),u.domLoaded=!0,u.load=!0,i&&l.done&&f()},50)),this._unregisters=this._unregisters||[],this._unregisters.push(d)},this),this)}function f(t){var o,i,r,u,c;return o=t.getBoundingClientRect(),i=n.innerHeight||e.documentElement.clientHeight,r=n.innerWidth||e.documentElement.clientWidth,u=o.top<=i&&o.top+o.height>=0,c=o.left<=r&&o.left+o.width>=0,u&&c}function d(n,e){var t;return function(o){var i=f(n);i!=t&&(t=i,"function"==typeof e&&e(i,o))}}function l(){var n=this;return function(){n._unregisters.forEach(function(n){Object.keys(n).forEach(function(e){n[e]()})})}}function a(){return this.getOff()(),this}function h(n,e,t){e||(e=250);var o,i;return function(){var r=t||this,u=+new Date,c=arguments;o&&o+e>u?(clearTimeout(i),i=setTimeout(function(){o=u,n.apply(r,c)},e)):(o=u,n.apply(r,c))}}var p={visible:!0,hidden:!1};return t.prototype={on:u,once:c,getOff:l,off:a},{add:i}}(window,document));o.noConflict=function(){return e[n]=t,o},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=o),exports[n]=o):e[n]=o}).call(this);
//# sourceMappingURL=visi.min.map