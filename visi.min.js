(function(){var n="Visi",e=this,t=e[n],i=("undefined"!=typeof require,function(n,e){function t(n){var e=this;this.elements=[];try{n=[].slice.call(n)}catch(t){return void console.error(t)}n.forEach(function(n){n.length?[].slice.call(n).forEach(function(n){e.elements.push(n)}):e.elements.push(n)})}function i(n,e,t){return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}function o(){return new t(arguments)}function r(n,e,t){return d(n,function(i,o){"visible"===e&&i&&(o&&(o.done=!0),t(n,o.unregister)),"visible"===e||i||(o&&(o.done=!0),t(n,o.unregister))})}function u(n,e){return s.call(this,n,e,!1)}function c(n,e){return s.call(this,n,e,!0)}function s(e,t,o){var u=this;return void 0===p[e]?this:([].slice.call(this.elements).forEach(function(c,s){function f(){Object.keys(d).forEach(function(n){d[n]()})}var d={},l={done:!1,unregister:f},a=r(c,e,t,l);u.domLoaded||(d[0]=i(n,"DOMContentLoaded",function(){a(l),u.domLoaded=!0,o&&l.done?f():d[0]})),u.load||(d[1]=i(n,"load",function(){a(l),u.load=!0,o&&l.done?f():d[1]})),d[2]=i(n,"scroll",h(function(){a(l),u.domLoaded=!0,u.load=!0,o&&l.done&&f()},50)),d[3]=i(n,"resize",h(function(){a(l),u.domLoaded=!0,u.load=!0,o&&l.done&&f()},50)),this._unregisters=this._unregisters||[],this._unregisters.push(d)},this),this)}function f(t){var i,o,r,u,c;return(i=t.getBoundingClientRect&&t.getBoundingClientRect())?(o=n.innerHeight||e.documentElement.clientHeight,r=n.innerWidth||e.documentElement.clientWidth,u=i.top<=o&&i.top+i.height>=0,c=i.left<=r&&i.left+i.width>=0,u&&c):!1}function d(n,e){var t;return function(i){var o=f(n);o!=t&&(t=o,"function"==typeof e&&e(o,i))}}function l(){var n=this;return function(){n._unregisters.forEach(function(n){Object.keys(n).forEach(function(e){n[e]()})})}}function a(){return this.getOff()(),this}function h(n,e,t){e||(e=250);var i,o;return function(){var r=t||this,u=+new Date,c=arguments;i&&i+e>u?(clearTimeout(o),o=setTimeout(function(){i=u,n.apply(r,c)},e)):(i=u,n.apply(r,c))}}var p={visible:!0,hidden:!1};return t.prototype={on:u,once:c,getOff:l,off:a},{add:o}}(window,document));i.noConflict=function(){return e[n]=t,i},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports[n]=i):e[n]=i}).call(this);
//# sourceMappingURL=visi.min.map